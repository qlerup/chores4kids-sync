add_child:
  fields:
    name:
      required: true
      example: "Anna"
rename_child:
  fields:
    child_id:
      required: true
    new_name:
      required: true
remove_child:
  fields:
    child_id:
      required: true
add_task:
  fields:
    title:
      required: true
    points:
      required: true
    description:
      required: false
    due:
      required: false
      description: "Deadline as YYYY-MM-DD or ISO timestamp"
    early_bonus_enabled:
      required: false
      description: "Enable/disable early completion bonus without clearing configured values"
      example: true
    early_bonus_days:
      required: false
      description: "If completed at least N days before due date, award bonus points"
      example: 2
    early_bonus_points:
      required: false
      description: "Bonus points awarded when early_bonus_days condition is met"
      example: 10
    icon:
      required: false
      description: "Optional icon id (e.g. mdi:vacuum)"
    quick_complete:
      required: false
      description: "If true, child can mark task done immediately (skip start step)"
    skip_approval:
      required: false
      description: "If true, task is auto-approved when completed (skip parent approval)"
    child_id:
      required: false
    repeat_days:
      required: false
      description: "List of days (mon..sun or 0=Mon..6=Sun) to auto-create the task"
      example: ["mon","wed","fri"]
    repeat_child_id:
      required: false
      description: "Child id that should be auto-assigned for the repeated task"
    categories:
      required: false
      description: "List of category ids to attach to the task"

    schedule_mode:
      required: false
      description: "Scheduling mode for templates: repeat (use repeat_days), weekly (every Monday), monthly (1st of month)"
      example: "weekly"

    mark_overdue:
      required: false
      description: "If true, unfinished task carried to next day is marked as overdue (red). Default true."
      example: true

    fastest_wins:
      required: false
      description: "If true, and the task template is assigned to multiple children, the first child to start/complete it will claim it; other children's copies will show who claimed it and cannot be started"
assign_task:
  fields:
    task_id:
      required: true
    child_id:
      required: true
set_task_status:
  fields:
    task_id:
      required: true
    status:
      required: true
      selector:
        select:
          options:
            - assigned
            - in_progress
            - awaiting_approval
            - approved
            - rejected
delete_task:
  fields:
    task_id:
      required: true
approve_task:
  fields:
    task_id:
      required: true
update_task:
  name: Update task fields
  description: Update title, points, description, due or icon for a task
  fields:
    task_id:
      required: true
    title:
      required: false
      example: "Clean room"
    points:
      required: false
      example: 10
    description:
      required: false
    due:
      required: false
      description: "Deadline as YYYY-MM-DD or ISO timestamp"
    early_bonus_enabled:
      required: false
      description: "Enable/disable early completion bonus without clearing configured values"
      example: true
    early_bonus_days:
      required: false
      description: "If completed at least N days before due date, award bonus points"
      example: 2
    early_bonus_points:
      required: false
      description: "Bonus points awarded when early_bonus_days condition is met"
      example: 10
    icon:
      required: false
    quick_complete:
      required: false
      description: "If true, child can mark task done immediately (skip start step)"
    skip_approval:
      required: false
      description: "If true, task is auto-approved when completed (skip parent approval)"
    categories:
      required: false
      description: "List of category ids to set on the task"

    mark_overdue:
      required: false
      description: "If true, unfinished task carried to next day is marked as overdue (red)."
      example: true

    fastest_wins:
      required: false
      description: "If true, and the task template is assigned to multiple children, the first child to start/complete it will claim it; other children's copies will show who claimed it and cannot be started"
set_task_repeat:
  fields:
    task_id:
      required: true
    repeat_days:
      required: false
    repeat_child_id:
      required: false
      description: "Child id to auto-assign on repeated days"
    schedule_mode:
      required: false
      description: "Scheduling mode for templates: repeat, weekly, monthly. Weekly/monthly override repeat_days."
      example: "monthly"

set_task_icon:
  name: Set task icon
  description: Set or clear the icon for a task
  fields:
    task_id:
      required: true
    icon:
      required: false
      description: "Icon id (e.g. mdi:vacuum). Empty to clear"
reset_points:
  fields:
    child_id:
      required: false
add_points:
  fields:
    child_id:
      required: true
    points:
      required: true
      example: 5
purge_orphans:
  name: Purge orphaned entities/devices
  description: Fjerner forældreløse Chores4Kids entiteter og devices fra registry.

debug_mark_overdue:
  name: "[DEBUG] Mark task as overdue"
  description: "Manually mark a task as carried over (overdue) for testing purposes. This is a debug function."
  fields:
    task_id:
      required: true
      description: "ID of the task to mark as overdue"

add_category:
  name: Add category
  fields:
    name:
      required: true
      example: "Cleaning"
    color:
      required: false
      description: "Hex color like #ff0000 (optional)"
      example: "#4ecdc4"

rename_category:
  name: Rename category
  fields:
    category_id:
      required: true
    new_name:
      required: true

delete_category:
  name: Delete category
  fields:
    category_id:
      required: true

set_category_color:
  name: Set category color
  description: Set the hex color for a category (used in the card UI across devices).
  fields:
    category_id:
      required: true
      description: "Category id"
    color:
      required: false
      description: "Hex color like #ff0000 (or empty to clear)"
      example: "#4ecdc4"

set_ui_colors:
  name: Set UI colors
  description: Set global UI colors used by the Chores4Kids card (synced across users/devices).
  fields:
    confetti_enabled:
      required: false
      description: Enable/disable confetti animation globally (synced across users/devices).
      example: true
    enable_points:
      required: false
      description: Enable/disable the points feature globally (synced across users/devices).
      example: true
    start_task_bg:
      required: false
      description: Background color for the "Start task" button (CSS color, e.g. #00AEEF).
      example: "#00AEEF"
    start_task_text:
      required: false
      description: Text color for the "Start task" button (CSS color, e.g. #FFFFFF).
      example: "#FFFFFF"
    complete_task_bg:
      required: false
      description: Background color for the "Complete task" button (CSS color, e.g. #43A047).
      example: "#43A047"
    complete_task_text:
      required: false
      description: Text color for the "Complete task" button (CSS color, e.g. #FFFFFF).
      example: "#FFFFFF"
    kid_points_bg:
      required: false
      description: Background color for the points pill in kid view (CSS color, e.g. rgba(255,0,0,.2)).
      example: "#FF0000"
    kid_points_text:
      required: false
      description: Text color for the points pill in kid view (CSS color, e.g. #1E88E5).
      example: "#1E88E5"

    task_done_bg:
      required: false
      description: Background color for the "Task done" (one-tap completion) button in kid view.
      example: "#43A047"
    task_done_text:
      required: false
      description: Text color for the "Task done" (one-tap completion) button in kid view.
      example: "#FFFFFF"
    task_points_bg:
      required: false
      description: Background color for the task points bubble/chip (CSS color, e.g. rgba(255,255,255,.12)).
      example: "#222222"
    task_points_text:
      required: false
      description: Text color for the task points bubble/chip (CSS color, e.g. #FFFFFF).
      example: "#FFFFFF"

    kid_task_title_size:
      required: false
      description: Font size for task title in kid view (CSS size, e.g. 18px). Empty clears.
      example: "18px"
    kid_task_points_size:
      required: false
      description: Font size for the task points chip in kid view (CSS size, e.g. 14px). Empty clears.
      example: "14px"
    kid_task_button_size:
      required: false
      description: Font size for the task action buttons in kid view (CSS size, e.g. 16px). Empty clears.
      example: "16px"

delete_uploaded_file:
  name: Delete uploaded file
  description: Delete a file previously uploaded into /config/www/chores4kids (e.g. completion sound).
  fields:
    filename:
      required: true
      description: Filename only (no paths), e.g. completion.mp3
      example: "completion.mp3"

delete_completion_sound:
  name: Delete completion sound
  description: Deletes completion sound files in /config/www/chores4kids (completion.* and legacy completion_<timestamp>.*).
